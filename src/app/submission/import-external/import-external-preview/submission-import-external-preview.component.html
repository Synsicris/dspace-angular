<div class="modal-header">
  <h2>{{'submission.import-external.preview.title.' + labelPrefix | translate}}</h2>
  <button *ngIf="!(this.loading$ | async)" type="button" class="close"
          (click)="closeMetadataModal()" aria-label="Close">
      <span aria-hidden="true">Ã—</span>
  </button>
</div>
<div class="modal-body">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <p>{{'submission.import-external.preview.subtitle' | translate}}</p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <hr>
      </div>
    </div>
    <div *ngFor="let metadata of metadataList" class="row">
      <div class="col-md-12">
        <strong>{{'item.preview.' + metadata.key | translate}}</strong>
        <div *ngIf="metadata.key === 'dc.description.abstract'" data-test="abstract" class="mb-2">
          <ds-truncatable [id]="metadata.key">
            <ds-truncatable-part [id]="metadata.key" [minLines]="3">
              <p>{{metadata.value.value}}</p>
            </ds-truncatable-part>
          </ds-truncatable>
        </div>
        <p *ngIf="metadata.key !== 'dc.description.abstract'">{{metadata.value.value}}</p>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <div class="row w-100">
    <div class="col-md-12 text-right">
      <button *ngIf="!(this.loading$ | async)" class="btn btn-success" (click)="import()" role="button">
            <i class="fa fa-file-import" aria-hidden="true"></i> {{'submission.import-external.preview.button.import' | translate}}
      </button>
      <button *ngIf="this.loading$ | async"  class="btn btn-outline-success w-25">
        <ds-themed-loading [showMessage]="false" [spinner]="true"></ds-themed-loading>
      </button>
    </div>
  </div>
</div>
