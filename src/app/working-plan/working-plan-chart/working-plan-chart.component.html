<div *ngIf="workpackages" class="container-fluid p-0" fxLayout="column">
  <div class="border-bottom mb-4 pb-2 d-flex justify-content-between align-items-center">
    <ds-comcol-page-header [name]="'working-plan.page.title' | translate">
      <ds-view-version-badges *ngIf="workingPlan && isVersionOf" [item]="workingPlan"></ds-view-version-badges>
    </ds-comcol-page-header>
  </div>
  <ds-alert-role
    [type]="'alert-info'"
    [content]="'working-plan.chart.page.description'"
    [collapsible]="true"
    [collapsed]="true"
    [alertRoles]="funderRoles"
  ></ds-alert-role>
  <ng-container *ngIf="isVersionOf && isFunder">
    <ds-working-plan-comments
      [projectCommunityId]="projectCommunityId"
      [showAccordionPanelToggle]="showAccordionPanelToggle"
      [workingPlan]="workingPlan"
    ></ds-working-plan-comments>
  </ng-container>

  <ds-working-plan-chart-toolbar [compareMode]="compareMode"
                                 [isFunder]="isFunder"
                                 [isVersionOf]="isVersionOf"
                                 [projectCommunityId]="projectCommunityId"
                                  [workpackages]="workpackages"
                                  [workingPlan]="workingPlan"></ds-working-plan-chart-toolbar>
  <ds-working-plan-chart-container [compareMode]="compareMode"
                                    [isVersionOf]="isVersionOf"
                                    [projectCommunityId]="projectCommunityId"
                                    [milestoneCollectionId]="milestoneCollectionId"
                                    [workPackageCollectionId]="workPackageCollectionId"
                                    [workpackages]="workpackages"
                                    [workingPlan]="workingPlan"></ds-working-plan-chart-container>
</div>
