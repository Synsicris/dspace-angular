<div class="row mb-4">
  <div class="col-md-6 col-xl mb-1">
    <div class="flex-fill card">
      <div class="py-4 card-body">
        <h4 class="word-wrap">{{'project-overview.page.subproject.card.title' | translate}}</h4>
        <ds-loading *ngIf="(loading$ | async)" [showMessage]="false"></ds-loading>
        <ul class="list-unstyled">
          <li *ngFor="let subproject of (subprojectList$ | async)">
            <button class="btn btn-link m-0 p-0" (click)="navigateToSubProject(subproject)">
              <span class="h5">{{getSubprojectName(subproject)}}</span>
            </button>
          </li>
          <li *ngIf="!(loading$ | async) && (subprojectList$ | async)?.length === 0">
            <span class="h5 text-muted">{{'project-overview.page.subproject.none-available' | translate}}</span>
          </li>
        </ul>
        <nav *ngIf="(subprojectListPageInfo$ | async)?.totalPages > 1">
          <ul class="pagination">
            <li class="page-item {{ ((subprojectListPageInfo$ | async)?.currentPage <= 1) ? 'disabled' : ''}}">
              <button class="page-link" aria-label="Previous"
                      (click)="retrieveSubprojectList()">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </button>
            </li>
            <li class="page-item {{ ((subprojectListPageInfo$ | async)?.currentPage >= (subprojectListPageInfo$ | async)?.totalPages) ? 'disabled' : ''}}">
              <button class="page-link" aria-label="Next"
                      (click)="retrieveSubprojectList()">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </button>
            </li>
          </ul>
        </nav>
        <button *ngIf="(canCreateSubproject() | async)"
                class="btn btn-link btn-lg p-0 m-0 h3 text-decoration-none text-left" role="button"
                (click)="createSubproject()">
          <i class="fas fa-plus-circle"></i>
          <span class="text-dark"> {{'project-overview.page.subproject.create.btn' | translate}}</span>
        </button>
      </div>
    </div>
  </div>
</div>
