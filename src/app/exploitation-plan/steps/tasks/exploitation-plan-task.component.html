<div [class.task-focus]="selectable && selectStatus.value"
     class="card task-wrap m-0">
  <div class="card-body d-flex flex-column m-0 p-0"
       [class.task-focus]="(hasFocus$ | async)">
    <div class="task-header d-flex pl-1 justify-content-between">
      <div class="task-title title-clamp font-weight-bold">
        <p title="{{exploitationPlanTask.title}}">{{exploitationPlanTask.title}}</p>
      </div>
      <button
              class="btn btn-lg btn-link p-0 flex-shrink-1 align-self-start text-danger mr-1"
              title="{{'impact-pathway.remove.item.title' | translate}}"
              (click)="removeTask(); $event.stopPropagation()">
        <span *ngIf="!(isProcessingRemove() | async)"><i class='fas fa-unlink'></i></span>
        <span *ngIf="(isProcessingRemove() | async)"><i class='fas fa-circle-notch fa-spin'></i></span>
      </button>
    </div>
    <div>
      <div class="task-content p-1">
        <div class="task-type type-clamp">
          <p title="{{taskType$ | async}}">{{taskType$ | async}}</p>
        </div>

      </div>

      <div class="d-flex justify-content-end">
        <button *ngIf="(canEdit() | async)" class="btn btn-lg btn-link p-0 flex-shrink-1"
                title="{{'impact-pathway.edit.item.title' | translate}}"
                (click)="navigateToEditItemPage(); $event.stopPropagation()">
          <span *ngIf="!(isRedirectingToEdit$ | async)"><i class="fas fa-edit"></i></span>
          <span *ngIf="(isRedirectingToEdit$ | async)"><i class='fas fa-circle-notch fa-spin'></i></span>
        </button>
      </div>
    </div>
  </div>
</div>
