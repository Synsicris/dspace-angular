<div [class.task-focus]="selectable && selectStatus.value" [class.alert-success]="compareMode && !!data.compareStatus && data.compareStatus=== ComparedVersionItemStatus.New"
  [class.alert-warning]="compareMode && !!data.compareStatus && data.compareStatus === ComparedVersionItemStatus.Changed" class="card task-wrap m-0">
  <div class="card-body d-flex flex-column m-0 p-0" [class.task-focus]="(hasFocus$ | async)">
    <div class="task-header d-flex pl-1 justify-content-between">
      <div class="task-title title-clamp font-weight-bold">
        <p title="{{exploitationPlanTask.title}}">{{exploitationPlanTask.title}}</p>
      </div>
      <button class="btn btn-lg btn-link p-0 flex-shrink-1 align-self-start text-danger mr-1" [disabled]="compareMode" title="{{'impact-pathway.remove.item.title' | translate}}"
        (click)="removeTask(); $event.stopPropagation()">
        <span *ngIf="!(isProcessingRemove() | async)">
          <i class='fas fa-unlink'></i>
        </span>
        <span *ngIf="(isProcessingRemove() | async)">
          <i class='fas fa-circle-notch fa-spin'></i>
        </span>
      </button>
    </div>
    <div>
      <div class="task-content p-1">
        <div class="task-type type-clamp">
          <p title="{{taskType$ | async}}">{{taskType$ | async}}</p>
        </div>

      </div>

      <div class="d-flex justify-content-end">
        <button *ngIf="(canEdit() | async)" class="btn btn-lg btn-link p-0 flex-shrink-1" title="{{'impact-pathway.edit.item.title' | translate}}"
          [disabled]="compareMode" (click)="navigateToEditItemPage(); $event.stopPropagation()">
          <span *ngIf="!(isRedirectingToEdit$ | async)">
            <i class="fas fa-edit"></i>
          </span>
          <span *ngIf="(isRedirectingToEdit$ | async)">
            <i class='fas fa-circle-notch fa-spin'></i>
          </span>
        </button>
        <button *ngIf="compareMode && data.compareStatus === ComparedVersionItemStatus.Changed" class="btn btn-lg btn-link p-0 flex-shrink-1 mr-1"
          title="{{'impact-pathway.compare' | translate}}" (click)="openCompareModal()">
          <i class="fas fa-not-equal"></i>
        </button>
      </div>
    </div>
  </div>
</div>