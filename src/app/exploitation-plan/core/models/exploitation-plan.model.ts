import { findIndex } from 'lodash';
import { ExploitationPlanStep } from './exploitation-plan-step.model';

export class ExploitationPlan {

  constructor(public id?: string, public partner?: string, public steps?: ExploitationPlanStep[]) {

  }

  hasStep(stepId: string): boolean {
    return (findIndex(this.steps, { id: stepId }) !== -1);
  }

  getStep(stepId: string): ExploitationPlanStep {
    let step = null;
    const index = this.getStepIndex(stepId);
    if (index !== -1) {
      step = this.steps[index];
    }

    return step;
  }

  getStepIndex(stepId: string): number {
    return findIndex(this.steps, { id: stepId });
  }

}
