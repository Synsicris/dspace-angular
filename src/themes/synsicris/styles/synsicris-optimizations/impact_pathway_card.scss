/* -----------------------------------------------------------
IMPACT PATHWAY TASK CONTAINER (CARD)
----------------------------------------------------------- */
// card (defined in src/app/impact-pathway-board/shared/impact-path-way/impact-path-way-task/impact-path-way-task.component.html)
// on 1st level responsive, on 2nd level not
.task-container {

  box-shadow: 0px 0px 4px rgba(0,0,0,0.7);

  /* MARKING OF DELETED AND NEW DATA IN COMPARE MODE
  Deleted or new data in the impact pathway did not get (as of dev version July 25, 2023) their own class in compare mode 
  as in the work plan (there: .compare-node-status-new and .compare-node-status-deleted), but were instead marked 
  with the bootstrap classes for success and danger notices (.alert-succes and .alert-danger).
  To be able to design them consistently with the same colors as in the routing via external stylesheets, 
  I added new classes .compare-status-new and .compare-status-deleted instead. (rex 230725) */
  &.compare-status-new .task-left-bar {
    background-color: var(--sy-compare-data-new-background);
  }
  &.compare-status-deleted .task-left-bar {
    background-color: var(--sy-compare-data-deleted-background);
  }
  
  min-width:10rem; //underneath there are misrepresentations d
  /* the original white background color of the cards does not come from the cards themselves, 
  but seems to be a responsive layoer underneath, but I could not find out its origin */
  background-color:var(--sy-color-gray-100);

  // left sidebar with drag'n drop icon
  .task-left-bar {
    width:1.6rem;
    min-width:1.6rem !important; // so that it is not compressed by save button
    button.button-move {
      &:hover {background-color:transparent}
      i {font-size:0.9rem;}
      &[disabled]{display:none !important;} // hide disabled button in compare-mode
    }
  }

  // right area of card with content and footer
  .task-right-bar {
    padding:0.6rem 0.6rem 0.4rem 0.6rem;
    

    // content 
    .task-detail {
      padding:0 !important;
      
      // status-icons beside the title of card
      .row-status-icons {
        position:relative;
        margin-top:-0.2rem !important;
        .status-icon {
          i {font-size:0.9rem;}
        } // end .status-icon
      } // end .row-status-icons

      /* Entity-Type
      unclear why this area is called content even though it only contains the entity type, 
      but have left it that way not knowing if this class has any special effects yet. */
      div.task-content {
        padding:0 !important;

        // additional class of Entity label, when the arrow-overlay is activated
        &.task-overlay-hide {  
          //margin-bottom:1rem !important; // makes card higher for the additional overlay-text
          //transition: margin-bottom 100ms ease; // animation
        }

        .sy-entity-name {
          font-size:0.8rem;
          font-family:'Nunito-ExtraLight';
        }

      } // end  div.task-content

      // Title of Card
      div.task-header {
        padding:0 !important;
        margin-top:0.3rem;
        margin-bottom:1.2rem;

        div.task-title {
          .sy-entity-title { 
            font-family:'Nunito-Bold';
            line-height:1.1rem;
          }
        } 

      } // end div.task-header
      
    } // end .task-detail

  // footer of IP-Card with icon-buttons
  .task-actions {
    padding:4px 0 0 0;

    button {
      white-space: nowrap; // prevents line break in buttons
    }

    // single icon-button
    button.btn-link {
      padding:0.5rem !important;
      height:auto;
      width:auto;
      &[disabled]{ opacity:0; } // hides disabled action buttons completely, when overlay is active
     
      span.span-icon-container i { font-size:1rem; }
      i.fa-save { color: var(--sy-color-blue-33) !important; } // makes black save-icon blue
      
      // hover-Effect for icon-Buttons,
      &:hover { background-color:var(--sy-color-blue-94); }

    } // end button.btn-link

  } // end .task-actions

  /* Overlay for Arrow Function in 
  src/app/impact-pathway-board/shared/impact-path-way/impact-path-way-task/impact-path-way-task.component.html */
  .task-overlay {

    background-color:var(--sy-impact-pathway-arrow-overlay-background) !important;
    border-top:1px solid var(--sy-color-gray-96);
    
    transition: background-color 200ms;
    left:-1.6rem; // Width of the drag'n drop sidebar, as the overlay drags over it on the left as well
    width:calc(100% + 1.6rem);
    padding:0.5rem 0.3rem 1rem 0.3rem !important;

    // contains Overlay with Checkbox, bigger than overlay alone
    mat-checkbox {

        .mat-checkbox-frame {
          border-color:var(--sy-impact-pathway-arrows);
          background-color:var(--sy-color-gray-100)
        }
        label {
          font-size:0.9rem;
          text-align:right;
          line-height:1.1rem !important;
          padding-right:0.3rem; // distance to checkbox
        } // Text

      &.mat-checkbox-checked {
       
        .mat-checkbox-frame {
          border-color:var(--sy-impact-pathway-arrows)!important;
          box-shadow:0 0 8px 1px var(--sy-color-magenta-50); // glow around checkbox
        }
        svg path {stroke:var(--sy-impact-pathway-arrows)!important;}
  
      }


    } // end mat-checkbox

  } // end .task-overlay

} // end .task-right-bar

} // end .task-container
